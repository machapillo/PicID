<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pashatto Print - è¨¼æ˜å†™çœŸã‚¢ãƒ—ãƒª</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .ocean-gradient {
            background: linear-gradient(135deg, #0891b2 0%, #06b6d4 50%, #0284c7 100%);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50">
    <div class="container mx-auto px-4 py-8">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <div class="text-center mb-12">
            <h1 class="text-4xl font-bold text-transparent bg-clip-text ocean-gradient mb-4">
                Pashatto Print
            </h1>
            <p class="text-gray-600 text-lg">
                ã„ã¤ã§ã‚‚ã€ã©ã“ã§ã‚‚ã€ç§ã®è¨¼æ˜å†™çœŸã‚¹ã‚¿ã‚¸ã‚ª
            </p>
        </div>

        <!-- ã‚µã‚¤ã‚ºé¸æŠ -->
        <div class="space-y-8" id="sizeSelector">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">
                    è¨¼æ˜å†™çœŸã®ã‚µã‚¤ã‚ºã‚’é¸æŠ
                </h2>
                <p class="text-gray-600 text-lg">
                    ç”¨é€”ã«å¿œã˜ã¦æœ€é©ãªã‚µã‚¤ã‚ºã‚’ãŠé¸ã³ãã ã•ã„
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto">
                <button onclick="selectSize('resume')" class="p-6 border-2 border-blue-200 bg-blue-50 rounded-xl transition-all duration-300 transform hover:scale-105 hover:border-blue-400">
                    <div class="text-left">
                        <h3 class="font-bold text-xl text-gray-800 mb-2">å±¥æ­´æ›¸ç”¨</h3>
                        <p class="text-gray-600 mb-3">å°±è·æ´»å‹•ãƒ»è»¢è·æ´»å‹•ã«</p>
                        <div class="flex items-center justify-between">
                            <span class="text-2xl font-bold text-blue-600">40 Ã— 30 mm</span>
                            <div class="w-12 h-16 bg-white border-2 border-gray-300 rounded shadow-sm flex items-center justify-center">
                                <div class="bg-gray-200 rounded" style="width: 89%; height: 86%;"></div>
                            </div>
                        </div>
                    </div>
                </button>

                <button onclick="selectSize('passport')" class="p-6 border-2 border-green-200 bg-green-50 rounded-xl transition-all duration-300 transform hover:scale-105 hover:border-green-400">
                    <div class="text-left">
                        <h3 class="font-bold text-xl text-gray-800 mb-2">ãƒ‘ã‚¹ãƒãƒ¼ãƒˆç”¨</h3>
                        <p class="text-gray-600 mb-3">æµ·å¤–æ¸¡èˆªç”³è«‹ã«</p>
                        <div class="flex items-center justify-between">
                            <span class="text-2xl font-bold text-green-600">45 Ã— 35 mm</span>
                            <div class="w-12 h-16 bg-white border-2 border-gray-300 rounded shadow-sm flex items-center justify-center">
                                <div class="bg-gray-200 rounded" style="width: 100%; height: 100%;"></div>
                            </div>
                        </div>
                    </div>
                </button>

                <button onclick="selectSize('license')" class="p-6 border-2 border-orange-200 bg-orange-50 rounded-xl transition-all duration-300 transform hover:scale-105 hover:border-orange-400">
                    <div class="text-left">
                        <h3 class="font-bold text-xl text-gray-800 mb-2">é‹è»¢å…è¨±è¨¼ç”¨</h3>
                        <p class="text-gray-600 mb-3">å…è¨±è¨¼æ›´æ–°ãƒ»æ–°è¦å–å¾—ã«</p>
                        <div class="flex items-center justify-between">
                            <span class="text-2xl font-bold text-orange-600">30 Ã— 24 mm</span>
                            <div class="w-12 h-16 bg-white border-2 border-gray-300 rounded shadow-sm flex items-center justify-center">
                                <div class="bg-gray-200 rounded" style="width: 67%; height: 69%;"></div>
                            </div>
                        </div>
                    </div>
                </button>

                <button onclick="selectSize('mynumber')" class="p-6 border-2 border-purple-200 bg-purple-50 rounded-xl transition-all duration-300 transform hover:scale-105 hover:border-purple-400">
                    <div class="text-left">
                        <h3 class="font-bold text-xl text-gray-800 mb-2">ãƒã‚¤ãƒŠãƒ³ãƒãƒ¼ã‚«ãƒ¼ãƒ‰ç”¨</h3>
                        <p class="text-gray-600 mb-3">ãƒã‚¤ãƒŠãƒ³ãƒãƒ¼ã‚«ãƒ¼ãƒ‰ç”³è«‹ã«</p>
                        <div class="flex items-center justify-between">
                            <span class="text-2xl font-bold text-purple-600">45 Ã— 35 mm</span>
                            <div class="w-12 h-16 bg-white border-2 border-gray-300 rounded shadow-sm flex items-center justify-center">
                                <div class="bg-gray-200 rounded" style="width: 100%; height: 100%;"></div>
                            </div>
                        </div>
                    </div>
                </button>
            </div>

            <div class="text-center text-sm text-gray-500 max-w-2xl mx-auto">
                <p>
                    â€» é¸æŠã—ãŸã‚µã‚¤ã‚ºã«å¿œã˜ã¦ã€æ’®å½±æ™‚ã®ã‚¬ã‚¤ãƒ‰ãŒè‡ªå‹•èª¿æ•´ã•ã‚Œã¾ã™<br/>
                    â€» Lç‰ˆç”¨ç´™ï¼ˆ89mm Ã— 127mmï¼‰ã«æœ€é©ãªæšæ•°ã§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã•ã‚Œã¾ã™
                </p>
            </div>
        </div>

        <!-- ã‚«ãƒ¡ãƒ©ç”»é¢ -->
        <div class="space-y-8 hidden" id="cameraScreen">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-gray-800 mb-2">å†™çœŸã‚’æ’®å½±</h2>
                <p class="text-lg text-gray-600 mb-4" id="sizeInfo"></p>
            </div>

            <div class="max-w-md mx-auto">
                <div class="relative aspect-[3/4] bg-gray-100 rounded-2xl overflow-hidden shadow-lg">
                    <video id="video" class="w-full h-full object-cover" autoplay></video>
                    <canvas id="canvas" class="w-full h-full object-cover hidden"></canvas>
                    
                    <!-- æ’®å½±ã‚¬ã‚¤ãƒ‰ -->
                    <div class="absolute inset-0 pointer-events-none">
                        <div class="relative w-full h-full">
                            <div class="absolute top-1/4 left-1/2 transform -translate-x-1/2 w-48 h-64 border-2 border-white border-dashed rounded-lg opacity-70">
                                <div class="absolute top-4 left-1/2 transform -translate-x-1/2 w-32 h-40 border border-white rounded-full opacity-50"></div>
                                <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 w-40 h-8 border border-white rounded opacity-30"></div>
                            </div>
                            <div class="absolute bottom-4 left-4 right-4 text-center">
                                <div class="bg-black bg-opacity-50 text-white px-3 py-2 rounded-lg text-sm">
                                    é¡”ã‚’ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«åˆã‚ã›ã¦ãã ã•ã„
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="max-w-2xl mx-auto bg-blue-50 p-6 rounded-xl">
                <h3 class="font-bold text-lg text-gray-800 mb-3">ğŸ“¸ æ’®å½±ã®ã‚³ãƒ„</h3>
                <ul class="space-y-2 text-gray-700">
                    <li>â€¢ æ˜ã‚‹ã„å ´æ‰€ã§æ’®å½±ã—ã¦ãã ã•ã„</li>
                    <li>â€¢ ç™½ã„å£ã®å‰ã«ç«‹ã£ã¦ãã ã•ã„</li>
                    <li>â€¢ æ­£é¢ã‚’å‘ã„ã¦ã€è‚©ã‚’å¹³è¡Œã«ä¿ã£ã¦ãã ã•ã„</li>
                    <li>â€¢ è¡¨æƒ…ã¯è‡ªç„¶ãªç¬‘é¡”ã¾ãŸã¯çœŸé¡”ã§</li>
                </ul>
            </div>

            <div class="flex justify-center gap-4">
                <button onclick="backToSize()" class="px-8 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors font-medium">
                    â† æˆ»ã‚‹
                </button>
                <button onclick="capture()" id="captureBtn" class="px-8 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium">
                    ğŸ“· æ’®å½±ã™ã‚‹
                </button>
                <button onclick="retake()" id="retakeBtn" class="px-8 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors font-medium hidden">
                    ğŸ”„ æ’®ã‚Šç›´ã™
                </button>
                <button onclick="confirm()" id="confirmBtn" class="px-8 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors font-medium hidden">
                    âœ“ ã“ã®å†™çœŸã§æ±ºå®š
                </button>
            </div>
        </div>

        <!-- å®Œäº†ç”»é¢ -->
        <div class="space-y-8 hidden" id="completeScreen">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-gray-800 mb-2">æ’®å½±å®Œäº†ï¼</h2>
                <p class="text-lg text-gray-600">è¨¼æ˜å†™çœŸã®æ’®å½±ãŒå®Œäº†ã—ã¾ã—ãŸ</p>
            </div>

            <div class="max-w-md mx-auto">
                <div class="bg-white p-4 rounded-2xl shadow-lg border">
                    <img id="finalImage" src="" alt="æ’®å½±ã—ãŸå†™çœŸ" class="w-full h-auto rounded-lg">
                </div>
            </div>

            <div class="max-w-2xl mx-auto bg-green-50 p-6 rounded-xl">
                <h3 class="font-bold text-lg text-gray-800 mb-3">ğŸ–¨ï¸ å°åˆ·ã‚¬ã‚¤ãƒ‰</h3>
                <div class="space-y-3 text-gray-700">
                    <div>
                        <h4 class="font-semibold">è‡ªå®…ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã®å ´åˆï¼š</h4>
                        <ul class="ml-4 space-y-1 text-sm">
                            <li>â€¢ ç”¨ç´™è¨­å®šï¼šLç‰ˆï¼ˆ89mm Ã— 127mmï¼‰</li>
                            <li>â€¢ å°åˆ·å“è³ªï¼šé«˜å“è³ªã¾ãŸã¯å†™çœŸå“è³ª</li>
                            <li>â€¢ ç”¨ç´™ç¨®é¡ï¼šå†™çœŸç”¨ç´™ï¼ˆå…‰æ²¢ã¾ãŸã¯ãƒãƒƒãƒˆï¼‰</li>
                            <li>â€¢ ä½™ç™½è¨­å®šï¼šä½™ç™½ãªã—ï¼ˆãƒ•ãƒãªã—å°åˆ·ï¼‰</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-semibold">ã‚³ãƒ³ãƒ“ãƒ‹ãƒ—ãƒªãƒ³ãƒˆã®å ´åˆï¼š</h4>
                        <ul class="ml-4 space-y-1 text-sm">
                            <li>â€¢ USBãƒ¡ãƒ¢ãƒªã‚„ã‚¹ãƒãƒ›ã‚¢ãƒ—ãƒªã§ç”»åƒã‚’æŒå‚</li>
                            <li>â€¢ Lç‰ˆã‚µã‚¤ã‚ºã‚’é¸æŠ</li>
                            <li>â€¢ å†™çœŸç”¨ç´™ã§å°åˆ·</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="flex justify-center gap-4">
                <button onclick="downloadImage()" class="px-8 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium">
                    ğŸ’¾ ç”»åƒã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                </button>
                <button onclick="startOver()" class="px-8 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors font-medium">
                    ğŸ”„ æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™
                </button>
            </div>

            <div class="text-center">
                <div class="inline-flex items-center px-6 py-3 bg-green-100 text-green-800 rounded-xl">
                    <span class="text-2xl mr-2">ğŸ‰</span>
                    <span class="font-medium">è¨¼æ˜å†™çœŸã®ä½œæˆãŒå®Œäº†ã—ã¾ã—ãŸï¼</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        let selectedPhotoSize = '';
        let video, canvas, capturedImage;
        
        const photoSizes = {
            resume: { name: 'å±¥æ­´æ›¸ç”¨', width: 40, height: 30, count: 4 },
            passport: { name: 'ãƒ‘ã‚¹ãƒãƒ¼ãƒˆç”¨', width: 45, height: 35, count: 2 },
            license: { name: 'é‹è»¢å…è¨±è¨¼ç”¨', width: 30, height: 24, count: 6 },
            mynumber: { name: 'ãƒã‚¤ãƒŠãƒ³ãƒãƒ¼ã‚«ãƒ¼ãƒ‰ç”¨', width: 45, height: 35, count: 2 }
        };

        function selectSize(size) {
            selectedPhotoSize = size;
            const sizeInfo = photoSizes[size];
            document.getElementById('sizeInfo').textContent = `${sizeInfo.name} (${sizeInfo.width}mm Ã— ${sizeInfo.height}mm)`;
            
            document.getElementById('sizeSelector').classList.add('hidden');
            document.getElementById('cameraScreen').classList.remove('hidden');
            
            startCamera();
        }

        function backToSize() {
            document.getElementById('cameraScreen').classList.add('hidden');
            document.getElementById('sizeSelector').classList.remove('hidden');
            stopCamera();
        }

        function startCamera() {
            video = document.getElementById('video');
            canvas = document.getElementById('canvas');
            
            navigator.mediaDevices.getUserMedia({ 
                video: { 
                    facingMode: 'user',
                    width: 480,
                    height: 640
                } 
            })
            .then(stream => {
                video.srcObject = stream;
            })
            .catch(err => {
                alert('ã‚«ãƒ¡ãƒ©ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ã€‚ã‚«ãƒ¡ãƒ©ã®è¨±å¯ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
            });
        }

        function stopCamera() {
            if (video && video.srcObject) {
                video.srcObject.getTracks().forEach(track => track.stop());
            }
        }

        function capture() {
            const context = canvas.getContext('2d');
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            context.drawImage(video, 0, 0);
            
            capturedImage = canvas.toDataURL('image/jpeg', 0.9);
            
            video.classList.add('hidden');
            canvas.classList.remove('hidden');
            
            document.getElementById('captureBtn').classList.add('hidden');
            document.getElementById('retakeBtn').classList.remove('hidden');
            document.getElementById('confirmBtn').classList.remove('hidden');
        }

        function retake() {
            video.classList.remove('hidden');
            canvas.classList.add('hidden');
            
            document.getElementById('captureBtn').classList.remove('hidden');
            document.getElementById('retakeBtn').classList.add('hidden');
            document.getElementById('confirmBtn').classList.add('hidden');
        }

        function confirm() {
            document.getElementById('cameraScreen').classList.add('hidden');
            document.getElementById('completeScreen').classList.remove('hidden');
            document.getElementById('finalImage').src = capturedImage;
            stopCamera();
        }

        function downloadImage() {
            const link = document.createElement('a');
            const sizeInfo = photoSizes[selectedPhotoSize];
            link.download = `è¨¼æ˜å†™çœŸ_${sizeInfo.name}_${new Date().toISOString().split('T')[0]}.jpg`;
            link.href = capturedImage;
            link.click();
        }

        function startOver() {
            document.getElementById('completeScreen').classList.add('hidden');
            document.getElementById('sizeSelector').classList.remove('hidden');
            selectedPhotoSize = '';
            capturedImage = '';
        }
    </script>
</body>
</html>
